
                    `,
                    example: {
                        type: 'exponential',
                        lambda: 2,
                        x: 0.5,
                        calcType: 'density'
                    }
                },
                'exp-relation': {
                    content: `
                        <p class="mb-2">La <span class="highlight">relación entre Poisson y Exponencial</span> es fundamental en la teoría de procesos estocásticos:</p>
                        <ul class="mb-2">
                            <li class="explanation-item">Si los eventos ocurren según un proceso de Poisson con tasa λ, entonces el tiempo entre eventos consecutivos sigue una distribución Exponencial con parámetro λ</li>
                            <li class="explanation-item">Si N(t) cuenta el número de eventos hasta el tiempo t en un proceso de Poisson, entonces N(t) ~ Poisson(λt)</li>
                            <li class="explanation-item">Si T representa el tiempo hasta el primer evento, entonces T ~ Exponencial(λ)</li>
                        </ul>
                        <p>Son dos caras de la misma moneda: Poisson cuenta eventos, Exponencial mide el tiempo entre ellos.</p>
                    `,
                    example: {
                        type: 'exponential',
                        lambda: 1,
                        x: 1,
                        calcType: 'cumulative'
                    }
                }
            };

            // Handle chat option clicks
            chatOptions.forEach(option => {
                option.addEventListener('click', function () {
                    const questionType = this.getAttribute('data-question');
                    const response = chatResponses[questionType];

                    if (response) {
                        // Show response
                        responseContent.innerHTML = response.content;
                        factoContent.textContent = getRandomFacto();

                        // Hide questions, show response
                        document.getElementById('poissonQuestions').classList.add('hidden');
                        document.getElementById('exponentialQuestions').classList.add('hidden');
                        chatResponse.classList.remove('hidden');

                        // Set calculator values based on example
                        if (response.example) {
                            const example = response.example;

                            if (example.type === 'poisson') {
                                // Switch to Poisson calculator if needed
                                if (calculatorType.value !== 'poisson') {
                                    calculatorType.value = 'poisson';
                                    poissonCalculator.classList.remove('hidden');
                                    exponentialCalculator.classList.add('hidden');
                                }

                                // Set values
                                document.getElementById('lambda').value = example.lambda;
                                document.getElementById('k').value = example.k;
                                document.getElementById('poissonCalculationType').value = example.calcType;

                                // Calculate
                                calculateBtn.click();

                            } else if (example.type === 'exponential') {
                                // Switch to Exponential calculator if needed
                                if (calculatorType.value !== 'exponential') {
                                    calculatorType.value = 'exponential';
                                    poissonCalculator.classList.add('hidden');
                                    exponentialCalculator.classList.remove('hidden');
                                }

                                // Set values
                                document.getElementById('expLambda').value = example.lambda;
                                document.getElementById('x').value = example.x;
                                document.getElementById('expCalculationType').value = example.calcType;

                                // Calculate
                                calculateBtn.click();
                            }
                        }
                    }
                });
            });

            // Back to questions button
            backToQuestions.addEventListener('click', function () {
                chatResponse.classList.add('hidden');

                // Show appropriate question set based on current calculator type
                if (calculatorType.value === 'poisson') {
                    document.getElementById('poissonQuestions').classList.remove('hidden');
                } else {
                    document.getElementById('exponentialQuestions').classList.remove('hidden');
                }
            });
        });
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'948fbb6e62ce8e03',t:'MTc0ODc5MTYxNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
    <iframe height="1" width="1"
        style="position: absolute; top: 0px; left: 0px; border: medium; visibility: hidden;"></iframe>

</body>

</html>
